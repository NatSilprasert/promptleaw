<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="styles/main.css" />
  <link rel="stylesheet" href="styles/redirect.css" />
  <title>Result â€¢ PromptLaew</title>
</head>
<body>
  <!-- Header (reuse à¸ˆà¸²à¸ main.css) -->
  <header class="header">
    <div class="logo">PromptLaew</div>

    <button class="hamburger" id="hamburger"
            aria-label="Toggle navigation"
            aria-controls="nav"
            aria-expanded="false">
      <span></span><span></span><span></span>
    </button>

    <nav class="nav" id="nav">
      <div class="nav-left">
        <a class="menu" href="index.html">Explore</a>
        <a class="menu" href="my-prompts.html">Your Prompts</a>
        <a class="menu" href="about.html">About</a>
      </div>
      <div class="nav-right">
        <a class="menu" href="login.html"><div class="signin-btn">Sign In</div></a>
        <a class="menu" href="register.html">Sign Up</a>
      </div>
    </nav>
  </header>

  <main class="page">
    <section class="hero container">
      <p class="banner">Hereâ€™s your result ðŸŽ‰</p>
      <p class="sub">Love it? Save or share your result with others.</p>
    </section>

    <section class="container">
      <div class="card-wrap">
        <figure class="result-card" aria-labelledby="img-caption">
          <!-- à¸§à¸²à¸‡ <img> à¸–à¹‰à¸²à¸¡à¸µ src à¸ˆà¸£à¸´à¸‡; à¸•à¸­à¸™à¸™à¸µà¹‰à¹ƒà¸Šà¹‰ div à¹€à¸›à¹‡à¸™ placeholder -->
          <div class="result-image" role="img" aria-label="Generated image preview"></div>

          <figcaption id="img-caption" class="sr-only">
            Generated image preview
          </figcaption>

          <div class="card-actions">
            <button class="btn ghost" id="btn-copy">Copy Link</button>
            <button class="btn" id="btn-download">Download</button>
          </div>
        </figure>
      </div>
    </section>
  </main>

  <script>
    // Hamburger toggle
    const hamburger = document.getElementById('hamburger');
    const nav = document.getElementById('nav');
    if (hamburger) {
      hamburger.addEventListener('click', () => {
        const isOpen = nav.classList.toggle('active');
        hamburger.classList.toggle('active', isOpen);
        hamburger.setAttribute('aria-expanded', isOpen ? 'true' : 'false');
      });
    }

    // Actions
    const dlBtn = document.getElementById('btn-download');
    const copyBtn = document.getElementById('btn-copy');

    // TODO: à¹à¸—à¸™à¸—à¸µà¹ˆà¸”à¹‰à¸§à¸¢ URL à¸£à¸¹à¸›à¸ˆà¸£à¸´à¸‡à¸‚à¸­à¸‡à¸„à¸¸à¸“
    const imageURL = ''; // e.g. '/images/output.png' or data URL

    dlBtn?.addEventListener('click', () => {
      if (!imageURL) return;
      const a = document.createElement('a');
      a.href = imageURL;
      a.download = 'promptlaew-result.png';
      document.body.appendChild(a);
      a.click();
      a.remove();
    });

    copyBtn?.addEventListener('click', async () => {
      const shareURL = window.location.href;
      try {
        await navigator.clipboard.writeText(shareURL);
        copyBtn.textContent = 'Copied!';
        setTimeout(() => (copyBtn.textContent = 'Copy Link'), 1200);
      } catch {
        copyBtn.textContent = 'Copy failed';
        setTimeout(() => (copyBtn.textContent = 'Copy Link'), 1200);
      }
    });
  </script>
</body>
</html>
